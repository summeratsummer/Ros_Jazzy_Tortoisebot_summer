<?xml version="1.0"?>
<robot name="tortoisebot" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Left Wheel -->
  <link name="Left_Wheel">
    <inertial>
      <origin xyz="-4.338469526690148e-06 0.00021222869557543155 0.004950773754537821" rpy="0 0 0"/>
      <mass value="0.7743137464767264"/>
      <inertia ixx="0.0003515261703812343" iyy="0.0003569564539829496" izz="0.0006571195709928362"
               ixy="-1.0937683088668037e-07" iyz="-1.240583473094501e-06" ixz="2.5344424675480606e-08"/>
    </inertial>
    <visual name="Left_Wheel_visual">
      <origin xyz="0.0862824205036992 0.011737187665089452 0.06499999999999988"
              rpy="1.570796326794897 -1.1412648882057109e-16 0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Left_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="wheel_material"/>
    </visual>
    <collision name="Left_Wheel_collision">
      <origin xyz="0.0862824205036992 0.011737187665089452 0.06499999999999988"
              rpy="1.570796326794897 -1.1412648882057109e-16 0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Left_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <!-- Base link -->
  <link name="Base_link">
    <inertial>
      <origin xyz="-0.040154052475668923 0.009999999999999983 0.03453862167013661" rpy="0 0 0"/>
      <mass value="7.585247380554527"/>
      <inertia ixx="0.0092829591474056" iyy="0.015202952423180427" izz="0.018392530842501975"
               ixy="2.3619136615694303e-17" iyz="5.139343241673372e-18" ixz="-2.554526267824328e-05"/>
    </inertial>
    <visual name="Base_link_visual">
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="base_material"/>
    </visual>
    <collision name="Base_link_collision">
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <!-- Right Wheel -->
  <link name="Right_Wheel">
    <inertial>
      <origin xyz="1.1134460496364795e-06 0.0002335790180863917 0.004943880925290784" rpy="0 0 0"/>
      <mass value="0.7736074033943435"/>
      <inertia ixx="0.00035109706486742207" iyy="0.0003569130190057409" izz="0.0006567305572464216"
               ixy="2.7605922442095077e-08" iyz="-1.3653719893101483e-06" ixz="-6.5245823912922504e-09"/>
    </inertial>
    <visual name="Right_Wheel_visual">
      <origin xyz="0.08636225823261161 0.011134544002358533 -0.07500000000000004"
              rpy="1.5707963267948972 1.1412648882057109e-16 -0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Right_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="wheel_material"/>
    </visual>
    <collision name="Right_Wheel_collision">
      <origin xyz="0.08636225823261161 0.011134544002358533 -0.07500000000000004"
              rpy="1.5707963267948972 1.1412648882057109e-16 -0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Right_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <!-- Caster joint body -->
  <link name="Caster_Joint">
    <inertial>
      <origin xyz="2.142401277787087e-05 2.55351295663786e-17 0.00613775420004409" rpy="0 0 0"/>
      <mass value="0.06393321006648853"/>
      <inertia ixx="1.2537845368381463e-05" iyy="8.916679596151199e-06" izz="1.4213753118662629e-05"
               ixy="-1.6940658945086007e-19" iyz="-1.6081767536570146e-17" ixz="5.850092257191428e-09"/>
    </inertial>
    <visual name="Caster_Joint_visual">
      <origin xyz="-0.014999909541135859 0.01000000000000004 5.2358331826338755e-05"
              rpy="-3.1415926535897927 0.0034906585039880308 1.141271841224324e-16"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Caster_Joint.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="caster_material"/>
    </visual>
    <collision name="Caster_Joint_collision">
      <origin xyz="-0.014999909541135859 0.01000000000000004 5.2358331826338755e-05"
              rpy="-3.1415926535897927 0.0034906585039880308 1.141271841224324e-16"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Caster_Joint.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <!-- Caster wheel -->
  <link name="Caster_Wheel">
    <inertial>
      <origin xyz="-9.307435444583235e-10 2.601564186299754e-09 -0.009999999999999945" rpy="0 0 0"/>
      <mass value="0.06029891454240851"/>
      <inertia ixx="4.584915920388591e-06" iyy="4.584915897400669e-06" izz="5.541847126153615e-06"
               ixy="8.025806382984915e-17" iyz="1.6940658945086007e-21" ixz="-1.9312351197398048e-19"/>
    </inertial>
    <visual name="Caster_Wheel_visual">
      <origin xyz="-0.09897943464349573 -0.042930491240589 -0.0004999999999999976"
              rpy="-1.570796326794896 -1.1412648882057109e-16 0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Caster_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="caster_wheel_material"/>
    </visual>
    <collision name="Caster_Wheel_collision">
      <origin xyz="-0.09897943464349573 -0.042930491240589 -0.0004999999999999976"
              rpy="-1.570796326794896 -1.1412648882057109e-16 0.003490658503987643"/>
      <geometry>
        <mesh filename="package://tortoisebot_description/meshes/Caster_Wheel.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>

  <!-- Joints -->
  <joint name="Base_link_Revolute-4" type="continuous">
    <origin xyz="-0.08632286527240064 -0.05 0.011435936705827668"
            rpy="1.5707963267948961 0.003490658503987649 1.1218558279684196e-16"/>
    <parent link="Base_link"/>
    <child link="Left_Wheel"/>
    <axis xyz="0 0 1"/>
  </joint>

  <joint name="Base_link_Revolute-5" type="continuous">
    <origin xyz="-0.0863228652724007 0.0700000000000001 0.011435936705827605"
            rpy="-1.5707963267948972 0.003490658503987649 1.1218558279684196e-16"/>
    <parent link="Base_link"/>
    <child link="Right_Wheel"/>
    <axis xyz="0 0 1"/>
  </joint>

  <joint name="Base_link_Revolute-6" type="continuous">
    <origin xyz="0.005000000921238907 0.010000000000000057 -0.0020000014426265044"
            rpy="3.1415926535897927 0.003490658503987649 1.1218558279684196e-16"/>
    <parent link="Base_link"/>
    <child link="Caster_Joint"/>
    <!-- axis preserved rationalized -->
    <axis xyz="0.003491 0 0.999994"/>
  </joint>

  <joint name="Caster_Joint_Revolute-7" type="continuous">
    <origin xyz="5.236000000000018e-05 0.01 0.014999910000000002"
            rpy="-1.5707963267948966 -0.0 4.622231866529366e-33"/>
    <parent link="Caster_Joint"/>
    <child link="Caster_Wheel"/>
    <axis xyz="0 0 1"/>
  </joint>

  <!-- Gazebo plugin block -->
  <gazebo reference="Base_link">
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotNamespace>/</robotNamespace>
    </plugin>
  </gazebo>

  <!-- Basic materials for RViz fallback -->
  <material name="wheel_material">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="base_material">
    <color rgba="0.6 0.6 0.6 1.0"/>
  </material>
  <material name="caster_material">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="caster_wheel_material">
    <color rgba="0.1 0.1 0.1 1.0"/>
  </material>

</robot>
